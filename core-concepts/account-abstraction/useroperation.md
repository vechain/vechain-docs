---
description: The key data structure of account abstraction.
---

# UserOperation

A UserOperation is the key data structure of account abstraction. It represents a new type of transaction that is generated by the user, processed by the EntryPoint contract and verified by the Account contract.

## Overview

Similar to a regular transaction UserOperation contains fields such as `sender`, `nonce`, `callData`, and `signature`. However, a UserOperation is not stored on-chain. Instead, it represents a user's intent to perform a transaction, which is later converted into an actual blockchain transaction. The UserOperation is sent to a Bundler, which listens for these operations, aggregates them (including signature aggregation when possible), and submits them to the EntryPoint contract for execution.

Unlike a traditional blockchain transaction, the signature in a UserOperation can use custom algorithms, unlocking additional functionalities. For instance, the signature can:

* Support threshold signatures for multi-signature wallets.
* Incorporate social recovery mechanisms to restore access in case of lost key pairs.
* Use alternative cryptographic algorithms for specialized security needs.

## UserOperation Fields

The fields of a UserOperation are detailed in the table below:

<table><thead><tr><th width="275">Field</th><th width="157.33333333333331">Type</th><th>Description</th></tr></thead><tbody><tr><td><code>sender</code></td><td><code>address</code></td><td>The account making the operation</td></tr><tr><td><code>nonce</code></td><td><code>uint256</code></td><td>Anti-replay parameter; also used as the salt for first-time account creation</td></tr><tr><td><code>initCode</code></td><td><code>bytes</code></td><td>The initCode of the account (needed if and only if the account is not yet on-chain and needs to be created)</td></tr><tr><td><code>callData</code></td><td><code>bytes</code></td><td>The data to pass to the <code>sender</code> during the main execution call</td></tr><tr><td><code>callGasLimit</code></td><td><code>uint256</code></td><td>The amount of gas to allocate the main execution call</td></tr><tr><td><code>verificationGasLimit</code></td><td><code>uint256</code></td><td>The amount of gas to allocate for the verification step</td></tr><tr><td><code>preVerificationGas</code></td><td><code>uint256</code></td><td>The amount of gas to pay for to compensate the bundler for pre-verification execution and calldata</td></tr><tr><td><code>maxFeePerGas</code></td><td><code>uint256</code></td><td>Maximum fee per gas (similar to EIP-1559 <code>max_fee_per_gas</code>)</td></tr><tr><td><code>maxPriorityFeePerGas</code></td><td><code>uint256</code></td><td>Maximum priority fee per gas (similar to EIP-1559 <code>max_priority_fee_per_gas</code>)</td></tr><tr><td><code>paymasterAndData</code></td><td><code>bytes</code></td><td>Address of paymaster sponsoring the transaction, followed by extra data to send to the paymaster (empty for self-sponsored transaction)</td></tr><tr><td><code>signature</code></td><td><code>bytes</code></td><td>Data passed into the account along with the nonce during the verification step</td></tr></tbody></table>

More detailed information about UserOperations and its fields can be found [here](https://eips.ethereum.org/EIPS/eip-4337#specification).&#x20;
